<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/style.css">
    <title>Document</title>
</head>

<body>

    <header>
        <div class="container">
            <div class="header">
                <h1 id="logo">Our <span>School</span></h1>
                <form action="/search" method="POST" id="search">
                    <input type="Search" name="search" placeholder="Search for students" class="search">
                    <input type="submit" value="Search" class="search-btn">
                </form>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <% if (locals.subjects) { %>
                <form id="admin-nav">
                    <input type="submit" class="current" value="New Report" formaction="/admin/home">
                    <input type="submit" value="Students Data" formaction="/student-data">
                </form>
                <form class="report-card" action="/submit" method="POST">
                    <div class="student-info">
                        <label for="name">Name of Student:</label>
                        <input type="text" class="uppercase" &nbsp;name="stdName">
                        <label for="roll-no">No. on Roll:</label>
                        <input type="text" id="roll-no" name="rollNo">
                    </div>
                    <div class="term-info">
                        <label for="attendance">Attendance:</label>
                        <input type="text" id="attendance" name="attendance">
                    </div>
                    <div class="term-info">
                        <label for="class">Class:</label>
                        <select id="class" name="class">
                            <option value="">Select Class</option>
                            <option value="KG1">KG1</option>
                            <option value="KG2">KG2</option>
                            <option value="PRIMARY 1">PRIMARY 1</option>
                            <option value="PRIMARY 2">PRIMARY 2</option>
                            <option value="PRIMARY 3">PRIMARY 3</option>
                            <option value="PRIMARY 4">PRIMARY 4</option>
                            <option value="PRIMARY 5">PRIMARY 5</option>
                            <option value="PRIMARY 6">PRIMARY 6</option>
                            <option value="JHS 1">JHS 1</option>
                            <option value="JHS 2">JHS 2</option>
                            <option value="JHS 3">JHS 3</option>
                        </select>
                        <label for="term">Term:</label>
                        <select id="term" name="currentTerm">
                            <option value="">Select Term</option>
                            <option value="one">ONE</option>
                            <option value="two">TWO</option>
                            <option value="three">THREE</option>
                        </select>
                        <label for="ending">Ending:</label>
                        <input type="date" id="ending" name="termEnding">
                    </div>


                    <div class="next-term-begins">
                        <label for="next-term-begins">Next Term Begins:</label>
                        <input type="date" id="next-term-begins" name="nextTerm">
                        <label for="report-date">Report Date:</label>
                        <input type="date" id="report-date" name="reportDate">
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>SUBJECT</th>
                                <th>CLASS SCORE (50%)</th>
                                <th>EXAMS SCORE (50%)</th>
                                <th>POSITION IN CLASS</th>
                                <th>GRADE</th>
                                <th>REMARKS</th>
                                <!-- <th>TOTAL SCORE (100%)</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[0].id%>.
                                        <%= subjects[0].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[0][subject_id]" value="<%= subjects[0].id %>">
                                <td><input type="number" name="subjects[0][classScore]"></td>
                                <td><input type="text" name="subjects[0][examsScore]"></td>
                                <td><input type="text" name="subjects[0][position]"></td>
                                <td><input type="text" name="subjects[0][grade]"></td>
                                <td><input type="text" name="subjects[0][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[1].id %>. <%=subjects[1].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[1][subject_id]" value="<%= subjects[1].id %>">
                                <td><input type="number" name="subjects[1][classScore]"></td>
                                <td><input type="text" name="subjects[1][examsScore]"></td>
                                <td><input type="text" name="subjects[1][position]"></td>
                                <td><input type="text" name="subjects[1][grade]"></td>
                                <td><input type="text" name="subjects[1][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[2].id %>. <%=subjects[2].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[2][subject_id]" value="<%= subjects[2].id %>">
                                <td><input type="number" name="subjects[2][classScore]"></td>
                                <td><input type="text" name="subjects[2][examsScore]"></td>
                                <td><input type="text" name="subjects[2][position]"></td>
                                <td><input type="text" name="subjects[2][grade]"></td>
                                <td><input type="text" name="subjects[2][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[3].id %>. <%=subjects[3].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[3][subject_id]" value="<%= subjects[3].id %>">
                                <td><input type="number" name="subjects[3][classScore]"></td>
                                <td><input type="text" name="subjects[3][examsScore]"></td>
                                <td><input type="text" name="subjects[3][position]"></td>
                                <td><input type="text" name="subjects[3][grade]"></td>
                                <td><input type="text" name="subjects[3][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[4].id %>. <%=subjects[4].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[4][subject_id]" value="<%= subjects[4].id %>">
                                <td><input type="number" name="subjects[4][classScore]"></td>
                                <td><input type="text" name="subjects[4][examsScore]"></td>
                                <td><input type="text" name="subjects[4][position]"></td>
                                <td><input type="text" name="subjects[4][grade]"></td>
                                <td><input type="text" name="subjects[4][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[5].id %>. <%=subjects[5].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[5][subject_id]" value="<%= subjects[5].id %>">
                                <td><input type="number" name="subjects[5][classScore]"></td>
                                <td><input type="text" name="subjects[5][examsScore]"></td>
                                <td><input type="text" name="subjects[5][position]"></td>
                                <td><input type="text" name="subjects[5][grade]"></td>
                                <td><input type="text" name="subjects[5][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[6].id %>. <%=subjects[6].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[6][subject_id]" value="<%= subjects[6].id %>">
                                <td><input type="number" name="subjects[6][classScore]"></td>
                                <td><input type="text" name="subjects[6][examsScore]"></td>
                                <td><input type="text" name="subjects[6][position]"></td>
                                <td><input type="text" name="subjects[6][grade]"></td>
                                <td><input type="text" name="subjects[6][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[7].id %>. <%=subjects[7].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[7][subject_id]" value="<%= subjects[7].id %>">
                                <td><input type="number" name="subjects[7][classScore]"></td>
                                <td><input type="text" name="subjects[7][examsScore]"></td>
                                <td><input type="text" name="subjects[7][position]"></td>
                                <td><input type="text" name="subjects[7][grade]"></td>
                                <td><input type="text" name="subjects[7][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[8].id %>. <%=subjects[8].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[8][subject_id]" value="<%= subjects[8].id %>">
                                <td><input type="number" name="subjects[8][classScore]"></td>
                                <td><input type="text" name="subjects[8][examsScore]"></td>
                                <td><input type="text" name="subjects[8][position]"></td>
                                <td><input type="text" name="subjects[8][grade]"></td>
                                <td><input type="text" name="subjects[8][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[9].id %>. <%=subjects[9].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[9][subject_id]" value="<%= subjects[9].id %>">
                                <td><input type="number" name="subjects[9][classScore]"></td>
                                <td><input type="text" name="subjects[9][examsScore]"></td>
                                <td><input type="text" name="subjects[9][position]"></td>
                                <td><input type="text" name="subjects[9][grade]"></td>
                                <td><input type="text" name="subjects[9][remarks]"></td>
                            </tr>
                            <tr>
                                <td class="uppercase">&nbsp;
                                    <%= subjects[10].id %>. <%=subjects[10].subject %>
                                </td>
                                <!-- <td><input type="number" name="subjects[0].subject"></td> -->
                                <input type="hidden" name="subjects[10][subject_id]" value="<%= subjects[10].id %>">
                                <td><input type="number" name="subjects[10][classScore]"></td>
                                <td><input type="text" name="subjects[10][examsScore]"></td>
                                <td><input type="text" name="subjects[10][position]"></td>
                                <td><input type="text" name="subjects[10][grade]"></td>
                                <td><input type="text" name="subjects[10][remarks]"></td>
                            </tr>
                        </tbody>
                    </table>
                    <button type="submit" class="btn">Submit report</button>
                </form>
                <% } %>

                    <% if (locals.students) { %>
                        <form id="admin-nav">
                            <input type="submit" value="New Report" formaction="/admin/home">
                            <input type="submit" class="current" value="Students Data" formaction="/student-data">
                        </form>
                        <h2>
                            Total students: <%= total %>
                        </h2>
                        <ul id="studentList">
                            <% students.forEach((student)=> { %>
                                <li>
                                    <a href="student/<%= student.id %>">
                                        <%= student.name %>
                                    </a>

                                    <form method="post" class="update">
                                        <input type="hidden" name="id" value="<%= student.id %>">
                                        <input type="submit" value="Edit" formaction="/edit">
                                        <input type="submit" value="Delete" class="delete" formaction="/delete">
                                    </form>
                                </li>
                                <% }); %>
                        </ul>
                        <% } %>

                            <% if (locals.searchDatas) { %>
                                <form id="admin-nav">
                                    <input type="submit" value="New Report" formaction="/admin/home">
                                    <input type="submit" class="current" value="Students Data"
                                        formaction="/student-data">
                                </form>
                                <h2>
                                    <%= heading %>
                                </h2>
                                <ul id="studentList">
                                    <% searchDatas.forEach((student)=> { %>
                                        <li>
                                            <a href="student/<%= student.id %>">
                                                <%= student.name %>
                                            </a>

                                            <form method="post" class="update">
                                                <input type="hidden" name="id" value="<%= student.id %>">
                                                <input type="submit" value="Edit" formaction="/edit">
                                                <input type="submit" value="Delete" class="delete" formaction="/delete">
                                            </form>
                                        </li>
                                        <% }); %>

                                </ul>
                                <% } else if (locals.searchData) { %>
                                    <form id="admin-nav">
                                        <input type="submit" value="New Report" formaction="/admin/home">
                                        <input type="submit" class="current" value="Students Data"
                                            formaction="/student-data">
                                    </form>
                                    <h2>
                                        <%= heading %>
                                    </h2>
                                    <ul id="studentList">
                                        <li>
                                            <a href="student/<%= searchData.id %>">
                                                <%= searchData.name %>
                                            </a>
                                            <form method="post" class="update">
                                                <input type="hidden" name="id" value="<%= searchData.id %>">
                                                <input type="submit" value="Edit" formaction="/edit">
                                                <input type="submit" value="Delete" class="delete" formaction="/delete">
                                            </form>
                                        </li>

                                    </ul>
                                    <% } else if (locals.searchData===null) {%>
                                        <form id="admin-nav">
                                            <input type="submit" value="New Report" formaction="/admin/home">
                                            <input type="submit" class="current" value="Students Data"
                                                formaction="/student-data">
                                        </form>
                                        <h2>
                                            <%= heading %>
                                        </h2>
                                        <a href="/student-data">Check Student List</a>
                                        <% } %>
        </div>
    </main>
    <!-- <script src="/js/app.js"></script> -->
</body>

</html>